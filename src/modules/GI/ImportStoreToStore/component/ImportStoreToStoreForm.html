<div class="tabs" ng-show="$vm.isFilterTable">
    <ul class="nav nav-tabs">
        <li class="active">
            <a data-target="#planGIDetail" data-toggle="tab" ng-click="selectedTab(1)">Sale Order Detail</a>
        </li>
    </ul>
    <div class="tab-content">
        <div id="planGIDetail" class="tab-pane active" ng-if="selected == 1">
            <div class="row" ng-show="$vm.isFilterTable">
                <div class="form-group" style="margin-top:20px">
                    <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                        <div class="col-lg-3 col-md-3 col-xs-12">
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <span>Sale Order No:</span>
                            </div>
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <input type="text" class="form-control" ng-model="filterModel.planGoodsIssueNo"
                                    disabled />
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-3 col-xs-12">
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <span>Sale Order Status:</span>
                            </div>
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <input type="text" class="form-control" ng-model="filterModel.processStatusName"
                                    disabled />
                            </div>
                        </div>

                        <div class="col-lg-3 col-md-3 col-xs-12">
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <span>Sale Order Date:</span>
                            </div>
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <dir-date-picker ng-model="filterModel.planGoodsIssueDate"
                                    disabled="filterModel.documentStatus !=0"></dir-date-picker>
                            </div>
                        </div>

                        <div class="col-lg-3 col-md-3 col-xs-12">
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <span>Delivery Date:</span>
                            </div>
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <dir-date-picker ng-model="filterModel.planGoodsIssueDueDate"
                                    disabled="filterModel.documentStatus !=0"></dir-date-picker>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="form-group">
                    <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                        <div class="col-lg-3 col-md-3 col-xs-12">
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <span>Owner</span>
                            </div>
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <div class="input-group" style="padding:0!important;">
                                    <input readonly type="text" class="form-control bgwrite" ng-model="filterModel.ownerName" value="filterModel.ownerIndex"
                                        ng-disabled="filterModel.documentStatus != 0 ">
                                    <span class="input-group-btn">
                                        <button ng-click='popupOwner.onClick()' class="btn btn-primary" type="button"
                                            type="button" ng-disabled="filterModel.documentStatus != 0">
                                            <span class="glyphicon glyphicon-search"></span>
                                        </button>
                                    </span>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-3 col-md-3 col-xs-12">
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <span>Sold To</span>
                            </div>
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <div class="input-group" style="padding:0!important;">
                                    <input readonly type="text" class="form-control bgwrite" ng-model="filterModel.soldToName" value="filterModel.soldToIndex"
                                        ng-disabled="filterModel.documentStatus != 0">
                                    <span class="input-group-btn">
                                        <button ng-click='popupSoldTo.onClick()' class="btn btn-primary" type="button"
                                            type="button" ng-disabled="filterModel.documentStatus != 0">
                                            <span class="glyphicon glyphicon-search"></span>
                                        </button>
                                    </span>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-3 col-md-3 col-xs-12">
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <span>Ship To</span>
                            </div>
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <div class="input-group" style="padding:0!important;">
                                    <input readonly type="text" class="form-control bgwrite" ng-model="filterModel.shipToName" value="filterModel.shipToIndex"
                                        ng-disabled="filterModel.documentStatus != 0">
                                    <span class="input-group-btn">
                                        <button ng-click='popupShipTo.onClick()' class="btn btn-primary" type="button"
                                            type="button" ng-disabled="filterModel.documentStatus != 0">
                                            <span class="glyphicon glyphicon-search"></span>
                                        </button>
                                    </span>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-3 col-md-3 col-xs-12">
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <span>Sale Order Type:</span>
                            </div>
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <div class="input-group" style="padding:0!important;">

                                    <input readonly type="text" class="form-control bgwrite" ng-model="filterModel.documentTypeName"
                                        value="filterModel.documentTypeIndex" ng-disabled="filterModel.documentStatus != 0">

                                    <span class="input-group-btn">
                                        <button ng-click='popupDocumentType.onClick()' class="btn btn-primary"
                                            type="button" ng-disabled="filterModel.documentStatus != 0">
                                            <span class="glyphicon glyphicon-search"></span>
                                        </button>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                        <div class="col-lg-3 col-md-3 col-xs-12">
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <span>Route:</span>
                            </div>
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <div class="input-group" style="padding:0!important;">
                                    <input readonly type="text" class="form-control bgwrite" ng-model="filterModel.routeName" value="filterModel.routeIndex"
                                        ng-disabled="filterModel.documentStatus != 0">

                                    <span class="input-group-btn">
                                        <button ng-click='popupRoute.onClick()' class="btn btn-primary" type="button"
                                            ng-disabled="filterModel.documentStatus != 0">
                                            <span class="glyphicon glyphicon-search"></span>
                                        </button>
                                    </span>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-3 col-md-3 col-xs-12">
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <span>Round:</span>
                            </div>
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <div class="input-group" style="padding:0!important;">
                                    <input readonly type="text" class="form-control bgwrite" ng-model="filterModel.roundName" value="filterModel.roundIndex"
                                        ng-disabled="filterModel.documentStatus != 0">
                                    <span class="input-group-btn">
                                        <button ng-click='popupRound.onClick()' class="btn btn-primary" type="button"
                                            ng-disabled="filterModel.documentStatus != 0">
                                            <span class="glyphicon glyphicon-search"></span>
                                        </button>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-3 col-xs-12">
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <span>From Warehouse:</span>
                            </div>
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <div class="input-group" style="padding:0!important;">
                                    <input readonly type="text" class="form-control bgwrite" ng-model="filterModel.warehouseName" value="filterModel.warehouseIndex"
                                        ng-disabled="filterModel.documentStatus != 0">
                                    <span class="input-group-btn">
                                        <button ng-click='popupWarehouse.onClick()' class="btn btn-primary"
                                            type="button" type="button" ng-disabled="filterModel.documentStatus != 0">
                                            <span class="glyphicon glyphicon-search"></span>
                                        </button>
                                    </span>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-3 col-md-3 col-xs-12">
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <span>To Warehouse:</span>
                            </div>
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <div class="input-group" style="padding:0!important;">
                                    <input readonly type="text" class="form-control bgwrite" ng-model="filterModel.warehouseNameTo"
                                        value="filterModel.warehouseToIndex" ng-disabled="filterModel.documentStatus != 0">
                                    <span class="input-group-btn">
                                        <button ng-click='popupWarehouseTo.onClick()' class="btn btn-primary"
                                            type="button" type="button" ng-disabled="filterModel.documentStatus != 0">
                                            <span class="glyphicon glyphicon-search"></span>
                                        </button>
                                    </span>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

                <div class="form-group">
                    <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                        <div class="col-lg-3 col-md-3 col-xs-12">
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <span>Reference 1</span>
                            </div>
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <input type="text" class="form-control" ng-model="filterModel.documentRefNo1"
                                    ng-disabled="filterModel.documentStatus != 0" />
                            </div>
                        </div>

                        <div class="col-lg-3 col-md-3 col-xs-12">
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <span>Reference 2</span>
                            </div>
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <input type="text" class="form-control" ng-model="filterModel.documentRefNo2"
                                    ng-disabled="filterModel.documentStatus != 0" />
                            </div>
                        </div>

                        <div class="col-lg-3 col-md-3 col-xs-12">
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <span>Reference 3</span>
                            </div>
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <input type="text" class="form-control" ng-model="filterModel.documentRefNo3"
                                    ng-disabled="filterModel.documentStatus != 0" />
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-3 col-xs-12">
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <span>UDF 1</span>
                            </div>
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <input type="text" class="form-control" ng-model="filterModel.udF1"
                                    ng-disabled="filterModel.documentStatus != 0" />
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                        <div class="col-lg-3 col-md-3 col-xs-12">
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <span>UDF 2</span>
                            </div>
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <input type="text" class="form-control" ng-model="filterModel.udF2"
                                    ng-disabled="filterModel.documentStatus != 0" />
                            </div>
                        </div>

                        <div class="col-lg-3 col-md-3 col-xs-12">
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <span>UDF 3</span>
                            </div>
                            <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                                <input type="text" class="form-control" ng-model="filterModel.udF3"
                                    ng-disabled="filterModel.documentStatus != 0" />
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-lg-12 col-md-12 col-xs-12" style="padding:0px">
                        <div class="col-lg-12 col-md-12 col-xs-12">
                            <div class="col-lg-8 col-md-8 col-xs-12" style="padding:0px">
                                <span>Remark</span>
                            </div>
                            <div class="col-lg-6 col-md-6 col-xs-12" style="padding:0px">
                                <input type="text" class="form-control" ng-model="filterModel.documentRemark"
                                    ng-disabled="filterModel.documentStatus != 0" />
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-group" style="margin-top:30px;">
                    <div class="col-lg-12 col-md-12 col-xs-12">
                        <div class="col-lg-3 col-md-3 col-xs-12">
                            <div class="col-lg-12 col-md-12 col-xs-12">
                            </div>
                        </div>

                        <div class="col-lg-3 col-md-3 col-xs-12">
                            <div class="col-lg-12 col-md-12 col-xs-12">
                            </div>
                        </div>

                        <div class="col-lg-4 col-md-4 col-xs-12" style="margin-right:-80px;">
                            <div class="col-lg-11 col-md-11 col-xs-12">
                                <input type="text" class="form-control" placeholder="Product" />
                            </div>
                        </div>
                        <div class="col-lg-2 col-md-2 col-xs-12 text-right">
                            <button ng-click="$vm.addItem()" class="btn btn-success hidden-xs"
                                ng-disabled="filterModel.documentStatus == -1 || filterModel.ownerName == '' || filterModel.ownerName === undefined || filterModel.documentStatus != 0">
                                +Item</button>
                            <button ng-click="$vm.addItem()" class="btn btn-success btn-block btn-md visible-xs mt-lg"
                                ng-disabled="filterModel.ownerIndex === underfine || filterModel.documentStatus == -1 || filterModel.ownerName == '' || filterModel.ownerName === undefined || filterModel.documentStatus != 0">
                                +Item</button>
                        </div>
                    </div>
                </div>
                <div class="tabs">
                    <ul class="nav nav-tabs">

                        <li class="active">
                            <a data-target="#table1" data-toggle="tab" ng-click="clickTab(1)">รายการสั่งซื้อ</a>
                        </li>
                        <li>
                            <a data-target="#table2" data-toggle="tab" ng-click="clickTab(2)">รายการที่รออนุมัติ</a>
                        </li>
                        <li>
                            <a data-target="#table3" data-toggle="tab" ng-click="clickTab(3)">รายการที่ Allocate</a>
                        </li>


                    </ul>
                    <div id="table1" class="tab-pane active">
                        <div class="col-lg-12 col-md-12 col-sm-12 table-responsive" style="padding:0px;"
                            ng-if="click == 1">
                            <div class="table-responsive table-overflow">
                                <table class="table table-striped table-bordeered table-width-150">
                                    <thead>
                                        <tr>
                                            <th class="text-center">Action</th>
                                            <th class="text-center">No.</th>
                                            <th class="text-center">Product No.</th>
                                            <th class="text-center" style="width:600%;">Product</th>
                                            <th class="text-center">Status Product</th>
                                            <th class="text-center">Qty</th>
                                            <th class="text-center">UOM</th>
                                            <!-- <th class="text-center">Volume</th> -->
                                            <th class="text-center">Price/UOM</th>
                                            <th class="text-center">Net</th>
                                            <th class="text-center" style="width:400%;">Remark</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="data in filterModel.listPlanGoodIssueViewModelItem">
                                            <td>
                                                <div>
                                                    <a class="btn btn-primary" ng-click="editItem(data, $index)"
                                                        ng-disabled="filterModel.documentStatus != 0">
                                                        <span class="glyphicon glyphicon-pencil"
                                                            aria-hidden="true"></span>
                                                    </a>
                                                    <a class="btn btn-danger"
                                                        ng-disabled="filterModel.documentStatus != 0"
                                                        style="margin-left:5px;"
                                                        ng-click="deleteItem(filterModel.listPlanGoodIssueViewModelItem, $index,filterModel)">
                                                        <span class="glyphicon glyphicon-trash"
                                                            aria-hidden="true"></span>
                                                    </a>
                                                </div>
                                            </td>
                                            <td class="text-center">{{$index+1}}</td>
                                            <td class="text-center">{{data.productId}}</td>
                                            <td class="text-center" style="width:600%;">{{data.productSecondName}}</td>
                                            <td class="text-center">{{data.itemStatusName}}</td>
                                            <td class="text-center">{{data.qty}}</td>
                                            <td class="text-center">{{data.productConversionName}}</td>
                                            <!-- <td class="text-center">{{data.volume}}</td> -->
                                            <td class="text-center">{{data.unitPrice}}</td>
                                            <td class="text-center">{{data.price}}</td>
                                            <td class="text-center" style="width:400%;">{{data.documentRemark}}</td>

                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div id="table2" class="tab-pane active">
                            <div class="col-lg-12 col-md-12 col-sm-12 table-responsive" style="padding:0px;"
                                ng-if="click == 2">
                                <div class="table-responsive table-overflow">
                                    <table class="table table-striped table-bordeered table-width-150">
                                        <thead>
                                            <tr>
                                                <th class="text-center">No.</th>
                                                <th class="text-center">Code</th>
                                                <th class="text-center" style="width:600%;">Detail</th>
                                                <th class="text-center">Status Product</th>
                                                <th class="text-center">Qty</th>
                                                <th class="text-center">UOM</th>
                                                <th class="text-center">Volume</th>
                                                <th class="text-center">Price/UOM</th>
                                                <th class="text-center">Discount</th>
                                                <th class="text-center">Net</th>
                                                <th class="text-center" style="width:400%;">Remark</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="data in filterModel.listRemainQtyViewModel">
                                                <td class="text-center">{{$index+1}}</td>
                                                <td class="text-center">{{data.productId}}</td>
                                                <td class="text-center" style="width:600%;">{{data.productSecondName}}
                                                </td>
                                                <td class="text-center">{{data.itemStatusName}}</td>
                                                <td class="text-center">{{data.qty}}</td>
                                                <td class="text-center">{{data.productConversionName}}</td>
                                                <td class="text-center">{{data.volume}}</td>
                                                <td class="text-center">{{data.unitPrice}}</td>
                                                <td class="text-center">{{data.discount}}</td>
                                                <td class="text-center">{{data.price}}</td>
                                                <td class="text-center" style="width:400%;">{{data.documentRemark}}</td>

                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div id="table3" class="tab-pane active">
                            <div class="col-lg-12 col-md-12 col-sm-12 table-responsive" style="padding:0px;"
                                ng-if="click == 3">
                                <div class="table-responsive table-overflow">
                                    <table class="table table-striped table-bordeered table-width-150">
                                        <thead>
                                            <tr>
                                                <th class="text-center">No.</th>
                                                <th class="text-center">Code</th>
                                                <th class="text-center" style="width:600%;">Detail</th>
                                                <th class="text-center">Status Product</th>
                                                <th class="text-center">Qty</th>
                                                <th class="text-center">UOM</th>
                                                <th class="text-center">Volume</th>
                                                <th class="text-center">Price/UOM</th>
                                                <th class="text-center">Discount</th>
                                                <th class="text-center">Net</th>
                                                <th class="text-center" style="width:400%;">Remark</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="data in filterModel.listGoodIssueItemViewModel">
                                                <td class="text-center">{{$index+1}}</td>
                                                <td class="text-center">{{data.productId}}</td>
                                                <td class="text-center" style="width:600%;">{{data.productSecondName}}
                                                </td>
                                                <td class="text-center">{{data.itemStatusName}}</td>
                                                <td class="text-center">{{data.qty}}</td>
                                                <td class="text-center">{{data.productConversionName}}</td>
                                                <td class="text-center">{{data.volume}}</td>
                                                <td class="text-center">{{data.unitPrice}}</td>
                                                <td class="text-center">{{data.discount}}</td>
                                                <td class="text-center">{{data.price}}</td>
                                                <td class="text-center" style="width:400%">{{data.documentRemark}}</td>

                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div style="padding-top:10px; text-align: right">
                <div class="text-right padding-m" style="margin-bottom:15px;">
                    <button ng-click="add()" class="btn btn-success hidden-xs" ng-show="buttons.add" ng-disabled="filterModel.documentStatus == -1 
                        || filterModel.ownerName == '' 
                        || filterModel.ownerName === undefined 
                        || filterModel.documentStatus != 0
                        || filterModel.documentStatus != 0
                        ">Save</button>
                    <button ng-click="add()" class="btn btn-success btn-block btn-lg visible-xs mt-lg"
                        ng-show="buttons.add">Save</button>
                    <button ng-click="edit()" class="btn btn-success hidden-xs" ng-show="buttons.update"
                        ng-disabled="filterModel.documentStatus == 3">Update</button>
                    <button ng-click="edit()" class="btn btn-success btn-block btn-lg visible-xs mt-lg"
                        ng-show="buttons.update" ng-disabled="filterModel.documentStatus == 3">Update</button>
                    <button ng-click="back()" class="btn btn-primary hidden-xs" ng-show="buttons.back">Back</button>
                    <button ng-click="back()" class="btn btn-primary btn-block btn-lg visible-xs mt-lg"
                        ng-show="buttons.back">Back</button>
                </div>

            </div>
        </div>

        <!-- Otger Detail      -->
        <!-- <plan-gi-detail ng-if="selected == 1"  filter-model="filterModel" search-result-model="searchResultModel" is-item="isItem">
                </plan-gi-detail > -->
    </div>
</div>
</div>

<!-- Table Item -->



<plan-gi-loading-form is-loading="isLoading" ng-hide="$vm.isFilterTable" triggerSearch="$vm.triggerSearch">
</plan-gi-loading-form>


<owner-popup on-show='popupOwner.onShow' config='popupOwner.config' invokes='popupOwner.invokes'
    delegates='popupOwner.delegates'>
</owner-popup>
<vendor-popup on-show='popupVendor.onShow' config='popupVendor.config' invokes='popupVendor.invokes'
    delegates='popupVendor.delegates'>
</vendor-popup>
<warehouse-popup on-show='popupWarehouse.onShow' config='popupWarehouse.config' invokes='popupWarehouse.invokes'
    delegates='popupWarehouse.delegates'>
</warehouse-popup>
<warehouse-to-popup on-show='popupWarehouseTo.onShow' config='popupWarehouseTo.config'
    invokes='popupWarehouseTo.invokes' delegates='popupWarehouseTo.delegates'>
</warehouse-to-popup>
<sold-to-popup on-show='popupSoldTo.onShow' config='popupSoldTo.config' invokes='popupSoldTo.invokes'
    delegates='popupSoldTo.delegates'>
</sold-to-popup>
<ship-to-popup on-show='popupShipTo.onShow' config='popupShipTo.config' invokes='popupShipTo.invokes'
    delegates='popupShipTo.delegates'>
</ship-to-popup>
<document-type-popup-plan-gi on-show='popupDocumentType.onShow' config='popupDocumentType.config'
    invokes='popupDocumentType.invokes' delegates='popupDocumentType.delegates'>
</document-type-popup-plan-gi>
<round-popup on-show='popupRound.onShow' config='popupRound.config' invokes='popupRound.invokes'
    delegates='popupRound.delegates'>
</round-popup>
<route-popup on-show='popupRoute.onShow' config='popupRoute.config' invokes='popupRoute.invokes'
    delegates='popupRoute.delegates'>
</route-popup>