<div class="tab-content" ng-show="$vm.isFilterTable">
    <div class="row">
        <div class="col-lg-12 col-md-12 col-xs-12" style="margin-top:20px; margin-bottom:20px;" ng-if="buttons.add == true">
            <h4> Create Pre Receiving</h4>
        </div>
        <div class="col-lg-12 col-md-12 col-xs-12" style="margin-top:20px; margin-bottom:20px;" ng-if="buttons.update == true">
            <h4> Edit Pre Receiving</h4>
        </div>
        <div class="form-group">
            <div class="col-lg-12 col-md-12 col-xs-12">
                <div class="col-lg-6 col-md-6 col-xs-12">
                    <div class="col-lg-3 col-md-3 col-xs-12">
                        <span>Document No :</span>
                    </div>
                    <div class="col-lg-7 col-md-7 col-xs-12">
                        <input type="text" ng-model="filterModel.planGoodsReceiveNo" class="form-control" disabled />
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-xs-12">
                    <div class="col-lg-3 col-md-3 col-xs-12">
                        <span>Pre Receiving Date</span>
                    </div>
                    <div class="col-lg-7 col-md-7 col-xs-12">
                        <dir-date-picker ng-model="filterModel.planGoodsReceiveDate" disabled="filterModel.documentStatus==1 || filterModel.documentStatus==2 || filterModel.documentStatus==-1 || filterModel.documentStatus==3"></dir-date-picker>
                    </div>
                </div>
            </div>

        </div>

        <div class="form-group">
            <div class="col-lg-12 col-md-12 col-xs-12">
                <div class="col-lg-6 col-md-6 col-xs-12">
                    <div class="col-lg-3 col-md-3 col-xs-12">
                        <span>Owner :</span>
                    </div>
                    <div class="col-lg-7 col-md-7 col-xs-12">
                        <div class="input-group" style="padding:0!important;">
                            <input type="text" class="form-control" ng-model="filterModel.ownerName" value="filterModel.ownerIndex"
                                disabled>
                            <span class="input-group-btn">
                                <button ng-click='popupOwner.onClick()' class="btn btn-primary " type="button"
                                    ng-disabled="filterModel.documentStatus==1 || filterModel.documentStatus==2 || filterModel.documentStatus==-1 || filterModel.documentStatus==3">
                                    <span class="glyphicon glyphicon-search"></span>
                                </button>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-xs-12">
                    <div class="col-lg-3 col-md-3 col-xs-12">
                        <span>Due Date</span>
                    </div>
                    <div class="col-lg-7 col-md-7 col-xs-12">
                        <dir-date-picker ng-model="filterModel.planGoodsReceiveDueDate" disabled="filterModel.documentStatus==1 || filterModel.documentStatus==2 || filterModel.documentStatus==-1 || filterModel.documentStatus==3"></dir-date-picker>
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="col-lg-12 col-md-12 col-xs-12">
                <div class="col-lg-6 col-md-6 col-xs-12">
                    <div class="col-lg-3 col-md-3 col-xs-12">
                        <span>Supplier :</span>
                    </div>
                    <div class="col-lg-7 col-md-7 col-xs-12">
                        <div class="input-group" style="padding:0!important;">
                            <input readonly type="text" class="form-control bgwrite" ng-model="filterModel.vendorName"
                                value="filterModel.vendorIndex" ng-disabled="filterModel.documentStatus==1 || filterModel.documentStatus==2 || filterModel.documentStatus==-1 || filterModel.ownerName == '' || filterModel.ownerName === undefined || filterModel.documentStatus==3">
                            <span class="input-group-btn">
                                <button ng-click='popupVendor.onClick()' class="btn btn-primary" type="button"
                                    ng-disabled="filterModel.documentStatus==1 || filterModel.documentStatus==2 || filterModel.documentStatus==-1 || filterModel.ownerName == '' || filterModel.ownerName === undefined || filterModel.documentStatus==3">
                                    <span class="glyphicon glyphicon-search"></span>
                                </button>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-xs-12">
                    <div class="col-lg-3 col-md-3 col-xs-12">
                        <span>Status</span>
                    </div>
                    <div class="col-lg-7 col-md-7 col-xs-12">
                        <input type="text" ng-model="filterModel.processStatusName" class="form-control" disabled />
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="col-lg-12 col-md-12 col-xs-12">
                <div class="col-lg-6 col-md-6 col-xs-12">
                    <div class="col-lg-3 col-md-3 col-xs-12">
                        <span>From Warehouse:</span>
                    </div>
                    <div class="col-lg-7 col-md-7 col-xs-12">
                        <div class="input-group" style="padding:0!important;">
                            <input readonly type="text" class="form-control bgwrite" ng-model="filterModel.warehouseName"
                                value="filterModel.warehouseIndex" ng-disabled="filterModel.documentStatus==1 || filterModel.documentStatus==2 || filterModel.documentStatus==-1 || filterModel.ownerName == '' || filterModel.ownerName === undefined || filterModel.documentStatus==3">
                            <span class="input-group-btn">
                                <button ng-click='popupWarehouse.onClick()' class="btn btn-primary" type="button"
                                    ng-disabled="filterModel.documentStatus==1 || filterModel.documentStatus==2 || filterModel.documentStatus==-1 || filterModel.documentStatus==3">
                                    <span class="glyphicon glyphicon-search"></span>
                                </button>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-xs-12">
                    <div class="col-lg-3 col-md-3 col-xs-12">
                        <span>To Warehouse:</span>
                    </div>
                    <div class="col-lg-7 col-md-7 col-xs-12">
                        <div class="input-group" style="padding:0!important;">
                            <input readonly type="text" class="form-control bgwrite" ng-model="filterModel.warehouseNameTo"
                                value="filterModel.warehouseIndexTo" ng-disabled="filterModel.documentStatus==1 || filterModel.documentStatus==2 || filterModel.documentStatus==-1 || filterModel.ownerName == '' || filterModel.ownerName === undefined || filterModel.documentStatus==3">
                            <span class="input-group-btn">
                                <button ng-click='popupWarehouseTo.onClick()' class="btn btn-primary" type="button"
                                    ng-disabled="filterModel.documentStatus==1 || filterModel.documentStatus==2 || filterModel.documentStatus==-1 || filterModel.documentStatus==3">
                                    <span class="glyphicon glyphicon-search"></span>
                                </button>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="col-lg-12 col-md-12 col-xs-12">
                <div class="col-lg-6 col-md-6 col-xs-12">
                    <div class="col-lg-3 col-md-3 col-xs-12">
                        <span>Document Type :</span>
                    </div>
                    <div class="col-lg-7 col-md-7 col-xs-12">
                        <div class="input-group" style="padding:0!important;">
                            <input readonly type="text" class="form-control bgwrite" ng-model="filterModel.documentTypeName"
                                value="filterModel.documentTypeIndex" ng-disabled="filterModel.documentStatus==1 || filterModel.documentStatus==2 || filterModel.documentStatus==-1 || filterModel.ownerName == '' || filterModel.ownerName === undefined || filterModel.documentStatus==3 || filterModel.documentStatus == 0">
                            <span class="input-group-btn">
                                <button ng-click='popupDocumentType.onClick()' class="btn btn-primary" type="button"
                                    ng-disabled="filterModel.documentStatus==1 || filterModel.documentStatus==2 || filterModel.documentStatus==-1 || filterModel.documentStatus==3 || filterModel.documentStatus == 0">
                                    <span class="glyphicon glyphicon-search"></span>
                                </button>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-xs-12">
                    <div class="col-lg-3 col-md-3 col-xs-12">
                        <span>SO</span>
                    </div>
                    <div class="col-lg-7 col-md-7 col-xs-12">
                        <div class="input-group" style="padding:0!important;">
                            <input type="text" class="form-control" ng-model="filterModel.planGoodsIssueNo" value="filterModel.planGoodsIssueIndex"
                                ng-disabled="filterModel.documentStatus==1 || filterModel.documentStatus==2 || filterModel.documentStatus==-1 || filterModel.documentTypeName != 'Return from customer' || filterModel.documentStatus==3">
                            <span class="input-group-btn">
                                <button ng-click='popupPlanGi.onClick()' class="btn btn-primary" type="button"
                                    ng-disabled="filterModel.documentStatus==1 || filterModel.documentStatus==2 || filterModel.documentStatus==-1 || filterModel.documentTypeName != 'Return from customer' || filterModel.documentStatus==3">
                                    <i class="glyphicon glyphicon-search"></i>
                                </button>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group">
            <div class="col-lg-12 col-md-12 col-xs-12">
                <div class="col-lg-6 col-md-6 col-xs-12">
                    <div class="col-lg-3 col-md-3 col-xs-12">
                        <span>Remark:</span>
                    </div>
                    <div class="col-lg-7 col-md-7 col-xs-12">
                        <input type="text" class="form-control" ng-model="filterModel.documentRemark" ng-disabled="filterModel.documentStatus==1 || filterModel.documentStatus==2 || filterModel.documentStatus==-1 || filterModel.documentStatus==3">
                    </div>
                </div>
            </div>

        </div>




        <div class="col-lg-12 col-md-12 col-xs-12 text-right">
            <button class="btn btn-success" ng-click="$vm.addItem()" ng-disabled="filterModel.documentStatus==1 || filterModel.documentStatus==2 || filterModel.documentStatus==-1 || filterModel.ownerName == '' || filterModel.ownerName === undefined || filterModel.documentStatus==3 || filterModel.documentTypeName == 'Return from customer'">+
                Item</button>
        </div>
        <div class="tabs">
            <ul class="nav nav-tabs">
                <li class="active">
                    <a data-target="#table1" data-toggle="tab" ng-click="clickTab(1)">รายการสินค้ารับเข้า</a>
                </li>
                <li>
                    <a data-target="#table2" data-toggle="tab" ng-click="clickTab(2)">รายการสินค้าที่ค้างรับ</a>
                </li>
                <li>
                    <a data-target="#table3" data-toggle="tab" ng-click="clickTab(3)">รายการสินค้าที่รับแล้ว</a>
                </li>
            </ul>
            <div id="table1" class="tab-pane active">
                <div class="col-lg-12 col-md-12 col-sm-12 table-responsive" style="padding:0px;" ng-if="click == 1">
                    <div class="table-responsive table-overflow">
                        <table class="table table-striped table-bordeered table-width-100">
                            <thead>
                                <tr>
                                    <th class="text-center">Action</th>
                                    <th ng-click="config.sortTable= !config.sortTable" style="width: 50%;">No.</th>
                                    <th ng-click="config.sortTable= !config.sortTable">ProductNo.</th>
                                    <th ng-click="config.sortTable= !config.sortTable" style="width: 300%;">Product</th>
                                    <th ng-click="config.sortTable= !config.sortTable">Qty</th>
                                    <th ng-click="config.sortTable= !config.sortTable">Uom</th>
                                    <th ng-click="config.sortTable= !config.sortTable">Remark</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="data in filterModel.listPlanGoodsReceiveItemViewModel">
                                    <td class="text-right">
                                        <div class="tr-100 text-align: center" style="margin:0px">
                                            <a class="btn btn-primary" ng-click="editItem(data, $index)" ng-disabled="filterModel.documentStatus==1 || filterModel.documentStatus==2 || filterModel.documentStatus==-1 || filterModel.documentStatus==3">
                                                <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                                            </a>
                                            <a class="btn btn-danger" style="margin-left:5px;" ng-click="deleteItem(filterModel.listPlanGoodsReceiveItemViewModel, $index)"
                                                ng-disabled="filterModel.documentStatus==1 || filterModel.documentStatus==2 || filterModel.documentStatus==-1 || filterModel.documentStatus==3">
                                                <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                                            </a>
                                        </div>
                                    </td>
                                    <td style="width: 50%;">{{$index+1}}</td>
                                    <td>{{data.productId}}</td>
                                    <td style="width: 300%;">{{data.productSecondName}}</td>
                                    <td>{{data.qty}}</td>
                                    <td>{{data.productConversionName}}</td>
                                    <td>{{data.documentRemark}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 table-responsive" style="padding:0px;" ng-if="click == 2">
                    <div class="table-responsive table-overflow">
                        <table class="table table-striped table-bordeered table-width-100">
                            <thead>
                                <tr>
                                    <th ng-click="config.sortTable= !config.sortTable">No.</th>
                                    <th ng-click="config.sortTable= !config.sortTable">ProductNo.</th>
                                    <th ng-click="config.sortTable= !config.sortTable" style="width: 300%;">Product</th>
                                    <th ng-click="config.sortTable= !config.sortTable">Total</th>
                                    <th ng-click="config.sortTable= !config.sortTable">Uom</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="data in filterModel.listRemainQtyViewModel">
                                    <td>{{$index+1}}</td>
                                    <td>{{data.productId}}</td>
                                    <td style="width: 300%;">{{data.productSecondName}}</td>
                                    <td>{{data.total}}</td>
                                    <td>{{data.productConversionName}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 table-responsive" style="padding:0px;" ng-if="click == 3">
                    <div class="table-responsive table-overflow">
                        <table class="table table-striped table-bordeered table-width-100">
                            <thead>
                                <tr>
                                    <th ng-click="config.sortTable= !config.sortTable">No.</th>
                                    <th ng-click="config.sortTable= !config.sortTable">Receiving No.</th>
                                    <th ng-click="config.sortTable= !config.sortTable">Receiving Date</th>
                                    <th ng-click="config.sortTable= !config.sortTable">ProductNo.</th>
                                    <th ng-click="config.sortTable= !config.sortTable" style="width: 300%;">Product</th>
                                    <th ng-click="config.sortTable= !config.sortTable">Qty</th>
                                    <th ng-click="config.sortTable= !config.sortTable">UOM</th>
                                    <th class="text-center" ng-click="config.sortTable= !config.sortTable">Document
                                        Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="data in filterModel.listGoodsReceiveItemViewModel">
                                    <td>{{$index+1}}</td>
                                    <td>{{data.goodsReceiveNo}}</td>
                                    <td>{{data.goodsReceiveDate|dateFormate}}</td>
                                    <td>{{data.productId}}</td>
                                    <td style="width: 300%;">{{data.productSecondName}}</td>
                                    <td>{{data.qty}}</td>
                                    <td>{{data.productConversionName}}</td>
                                    <td class="text-center">{{data.documentStatus}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

    <div class="form-group" style="padding:0px" ng-if="click == 1" ng-show="$vm.isFilterTable">
        <div class="col-lg-12 col-md-12" style="padding:0px;margin-left:30px">
            <div class="col-md-12" style="margin-top:10px;">
                <span class="col-md-10 text-right" style="margin-top:5px;">ยอดรวมสินค้า :</span>
                <div class="col-md-2">
                    <input type="text" class="form-control bgwrite text-right" ng-model="filterModel.CountPlanGRTotalQty"
                        readonly />
                </div>
            </div>
        </div>
    </div>
    <div class="form-group" style="padding:0px" ng-if="click == 2" ng-show="$vm.isFilterTable">
        <div class="col-lg-12 col-md-12" style="padding:0px;margin-left:30px">
            <div class="col-md-12" style="margin-top:10px;">
                <span class="col-md-10 text-right" style="margin-top:5px;">ยอดรวมสินค้า :</span>
                <div class="col-md-2">
                    <input type="text" class="form-control bgwrite text-right" ng-model="filterModel.CountRemainTotalQty"
                        readonly />
                </div>
            </div>
        </div>
    </div>
    <div class="form-group" style="padding:0px" ng-if="click == 3" ng-show="$vm.isFilterTable">
        <div class="col-lg-12 col-md-12" style="padding:0px;margin-left:30px">
            <div class="col-md-12" style="margin-top:10px;">
                <span class="col-md-10 text-right" style="margin-top:5px;">ยอดรวมสินค้า :</span>
                <div class="col-md-2">
                    <input type="text" class="form-control bgwrite text-right" ng-model="filterModel.CountGRTotalQty"
                        readonly />
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-12 col-md-12 col-xs-12 text-right" style="margin-bottom:15px;margin-left:15px" ng-show="$vm.isFilterTable">
        <button ng-click="back()" class="btn btn-danger pull-right" ng-show="buttons.back">Back</button>
        <button ng-click="edit()" class="btn btn-success pull-right" ng-show="buttons.update" style="margin-right: 5px">{{
            'Update' | translate }}</button>
        <button ng-click="add()" class="btn btn-primary pull-right" ng-show="buttons.add" style="margin-right: 5px">Create</button>
    </div>






<plan-loading-form is-loading="isLoading" ng-hide="$vm.isFilterTable" triggerSearch="$vm.triggerSearch"></plan-loading-form>

<owner-popup on-show='popupOwner.onShow' config='popupOwner.config' invokes='popupOwner.invokes' delegates='popupOwner.delegates'>
</owner-popup>
<document-type-popup on-show='popupDocumentType.onShow' config='popupDocumentType.config' invokes='popupDocumentType.invokes'
    delegates='popupDocumentType.delegates'>
</document-type-popup>
<vendor-popup on-show='popupVendor.onShow' config='popupVendor.config' invokes='popupVendor.invokes' delegates='popupVendor.delegates'>
</vendor-popup>
<warehouse-popup on-show='popupWarehouse.onShow' config='popupWarehouse.config' invokes='popupWarehouse.invokes'
    delegates='popupWarehouse.delegates'>
</warehouse-popup>
<warehouse-to-popup on-show='popupWarehouseTo.onShow' config='popupWarehouseTo.config' invokes='popupWarehouseTo.invokes'
    delegates='popupWarehouseTo.delegates'>
</warehouse-to-popup>
<plan-gi-popup on-show='popupPlanGi.onShow' config='popupPlanGi.config' invokes='popupPlanGi.invokes' delegates='popupPlanGi.delegates'>
</plan-gi-popup>